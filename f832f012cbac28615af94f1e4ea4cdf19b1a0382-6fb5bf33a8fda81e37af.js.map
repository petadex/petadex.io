{"version":3,"file":"f832f012cbac28615af94f1e4ea4cdf19b1a0382-6fb5bf33a8fda81e37af.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/images/petadex-icon.png","webpack://gatsby-starter-default/./src/components/StructurePanel.js","webpack://gatsby-starter-default/./src/config.js","webpack://gatsby-starter-default/./src/components/MetadataPanel.js","webpack://gatsby-starter-default/./src/hooks/useScrollHeader.js","webpack://gatsby-starter-default/./src/components/SequenceViewer.js","webpack://gatsby-starter-default/./src/components/SummaryStatistics.jsx","webpack://gatsby-starter-default/./src/components/SequencePanel.js","webpack://gatsby-starter-default/./src/components/ProteinViewer.js"],"sourcesContent":["export default \"data:image/png;base64,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\"","import React from \"react\";\nimport ProteinViewer from \"./ProteinViewer\";\n\nexport default function StructurePanel({ accession }) {\n  return (\n    <div>\n      <div style={{\n        backgroundColor: \"#f9fafb\",\n        borderRadius: \"8px\",\n        border: \"1px solid #e5e7eb\",\n        overflow: \"hidden\"\n      }}>\n        <div style={{\n          padding: \"1rem\",\n          backgroundColor: \"#ffffff\",\n          borderBottom: \"1px solid #e5e7eb\"\n        }}>\n          <h3 style={{\n            fontSize: \"1.1rem\",\n            margin: 0,\n            color: \"#374151\",\n            fontWeight: \"600\"\n          }}>\n            3D Structure Viewer\n          </h3>\n        </div>\n\n        <div style={{\n          width: \"100%\",\n          height: \"500px\",\n          backgroundColor: \"#ffffff\"\n        }}>\n          <ProteinViewer\n            accession={accession}\n            width=\"100%\"\n            height=\"500px\"\n            showControls={true}\n            enableMeasurement={true}\n            enableSelection={true}\n          />\n        </div>\n      </div>\n\n      <div style={{\n        marginTop: \"1.5rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#eff6ff\",\n        borderRadius: \"6px\",\n        borderLeft: \"4px solid #3b82f6\"\n      }}>\n        <p style={{\n          margin: 0,\n          color: \"#1e40af\",\n          fontSize: \"0.9rem\"\n        }}>\n          <strong>Tip:</strong> Click and drag to rotate the structure. Scroll to zoom in/out.\n        </p>\n      </div>\n    </div>\n  );\n}","/**\n * Application configuration\n * Centralizes environment-dependent settings\n */\n\n// Validate required environment variables\nconst requiredEnvVars = {\n  GATSBY_API_URL: process.env.GATSBY_API_URL,\n};\n\n// Check for missing required variables (only in browser/development)\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\n  const missing = Object.entries(requiredEnvVars)\n    .filter(([_, value]) => !value)\n    .map(([key]) => key);\n\n  if (missing.length > 0) {\n    console.error(\n      `Missing required environment variables:\\n${missing.join('\\n')}\\n\\n` +\n      `Please create a .env.development file with:\\n` +\n      `GATSBY_API_URL=http://localhost:3001/api`\n    );\n  }\n}\n\nconst config = {\n  // API base URL (without trailing slash)\n  apiUrl: process.env.GATSBY_API_URL || '',\n};\n\nexport default config;\n","// frontend/src/components/MetadataPanel.js\nimport React, { useState, useEffect } from \"react\";\nimport config from \"../config\";\n\nexport default function MetadataPanel({ metadata, accession }) {\n  const [originData, setOriginData] = useState(null);\n  const [researchData, setResearchData] = useState(null);\n  const [researchExpanded, setResearchExpanded] = useState(false);\n\n  useEffect(() => {\n    if (!accession) return;\n\n    async function fetchMetadata() {\n      try {\n        // Fetch origin data\n        const originRes = await fetch(`${config.apiUrl}/gene-details/${accession}/origin`);\n        if (originRes.ok) {\n          const data = await originRes.json();\n          setOriginData(data);\n        }\n\n        // Fetch research context\n        const researchRes = await fetch(`${config.apiUrl}/gene-details/${accession}/research`);\n        if (researchRes.ok) {\n          const data = await researchRes.json();\n          setResearchData(data);\n        }\n      } catch (err) {\n        console.error('Error fetching metadata:', err);\n      }\n    }\n\n    fetchMetadata();\n  }, [accession]);\n\n  if (!metadata) {\n    return (\n      <div style={{ \n        padding: \"2rem\", \n        textAlign: \"center\",\n        color: \"#666\"\n      }}>\n        No metadata available\n      </div>\n    );\n  }\n\n  const metadataItems = [\n    { label: \"Accession\", value: metadata.accession },\n    { label: \"Source\", value: metadata.source || \"Not specified\" },\n    { label: \"Synonyms\", value: metadata.synonyms || \"None\" },\n    { label: \"Sequence Length\", value: metadata.sequence ? `${metadata.sequence.length} amino acids` : \"N/A\" },\n    { label: \"Date Added\", value: metadata.date_entered ? new Date(metadata.date_entered).toLocaleString() : \"Unknown\" },\n  ];\n\n  const hasCoordinates = originData?.latitude && originData?.longitude;\n\n  return (\n    <div>\n      {/* Basic Sequence Information */}\n      <h3 style={{\n        fontSize: \"1.25rem\",\n        marginBottom: \"1.5rem\",\n        color: \"#374151\"\n      }}>\n        Sequence Information\n      </h3>\n\n      <div style={{\n        display: \"grid\",\n        gap: \"1rem\",\n        marginBottom: \"2rem\"\n      }}>\n        {metadataItems.map((item, index) => (\n          <div \n            key={index}\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"200px 1fr\",\n              gap: \"1rem\",\n              padding: \"1rem\",\n              backgroundColor: \"#f9fafb\",\n              borderRadius: \"6px\",\n              borderLeft: \"3px solid #e5e7eb\"\n            }}\n          >\n            <div style={{\n              fontWeight: \"600\",\n              color: \"#374151\"\n            }}>\n              {item.label}\n            </div>\n            <div style={{\n              color: \"#6b7280\",\n              wordBreak: \"break-word\"\n            }}>\n              {item.value}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Origin & Discovery Section */}\n      {originData && (\n        <div style={{ marginBottom: \"2rem\" }}>\n          <h3 style={{\n            fontSize: \"1.25rem\",\n            marginBottom: \"1.5rem\",\n            color: \"#374151\"\n          }}>\n            Origin & Discovery\n          </h3>\n\n          <div style={{\n            display: \"grid\",\n            gridTemplateColumns: hasCoordinates ? \"1fr 1fr\" : \"1fr\",\n            gap: \"1.5rem\"\n          }}>\n            <div style={{\n              display: \"grid\",\n              gap: \"1rem\"\n            }}>\n              {originData.country && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Country</div>\n                  <div style={{ color: \"#6b7280\" }}>{originData.country}</div>\n                </div>\n              )}\n              {originData.continent && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Continent</div>\n                  <div style={{ color: \"#6b7280\" }}>{originData.continent}</div>\n                </div>\n              )}\n              {originData.biome && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Biome</div>\n                  <div style={{ color: \"#6b7280\" }}>{originData.biome}</div>\n                </div>\n              )}\n              {originData.collection_date && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Collection Date</div>\n                  <div style={{ color: \"#6b7280\" }}>\n                    {new Date(originData.collection_date).toLocaleDateString()}\n                  </div>\n                </div>\n              )}\n              {originData.source_organism && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Source Organism</div>\n                  <div style={{ color: \"#6b7280\", fontStyle: \"italic\" }}>\n                    {originData.source_organism}\n                  </div>\n                </div>\n              )}\n              {originData.elevation && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Elevation</div>\n                  <div style={{ color: \"#6b7280\" }}>{originData.elevation}m</div>\n                </div>\n              )}\n              {originData.location_name && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Location</div>\n                  <div style={{ color: \"#6b7280\" }}>{originData.location_name}</div>\n                </div>\n              )}\n            </div>\n\n            {hasCoordinates && (\n              <div style={{\n                height: \"400px\",\n                backgroundColor: \"#f3f4f6\",\n                borderRadius: \"6px\",\n                overflow: \"hidden\",\n                border: \"1px solid #e5e7eb\"\n              }}>\n                <iframe\n                  title=\"Geographic location map\"\n                  width=\"100%\"\n                  height=\"100%\"\n                  style={{ border: 0 }}\n                  loading=\"lazy\"\n                  allowFullScreen\n                  src={`https://www.openstreetmap.org/export/embed.html?bbox=${originData.longitude-0.1},${originData.latitude-0.1},${originData.longitude+0.1},${originData.latitude+0.1}&layer=mapnik&marker=${originData.latitude},${originData.longitude}`}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Research Context Section */}\n      {researchData && (\n        <div style={{ marginBottom: \"2rem\" }}>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              cursor: \"pointer\",\n              padding: \"1rem\",\n              backgroundColor: \"#f9fafb\",\n              borderRadius: \"6px\",\n              borderLeft: \"3px solid #e5e7eb\",\n              marginBottom: researchExpanded ? \"1rem\" : \"0\"\n            }}\n            onClick={() => setResearchExpanded(!researchExpanded)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                setResearchExpanded(!researchExpanded);\n              }\n            }}\n            role=\"button\"\n            tabIndex={0}\n          >\n            <h3 style={{\n              fontSize: \"1.25rem\",\n              margin: 0,\n              color: \"#374151\"\n            }}>\n              Research Context\n            </h3>\n            <span style={{\n              fontSize: \"1.5rem\",\n              color: \"#6b7280\",\n              fontWeight: \"300\"\n            }}>\n              {researchExpanded ? \"âˆ’\" : \"+\"}\n            </span>\n          </div>\n\n          {researchExpanded && (\n            <div style={{\n              display: \"grid\",\n              gap: \"1rem\"\n            }}>\n              {researchData.bioproject && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>BioProject</div>\n                  <div>\n                    <a \n                      href={`https://www.ncbi.nlm.nih.gov/bioproject/${researchData.bioproject}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"#3b82f6\", textDecoration: \"none\" }}\n                    >\n                      {researchData.bioproject}\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {researchData.biosample && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>BioSample</div>\n                  <div>\n                    <a \n                      href={`https://www.ncbi.nlm.nih.gov/biosample/${researchData.biosample}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"#3b82f6\", textDecoration: \"none\" }}\n                    >\n                      {researchData.biosample}\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {researchData.sra_accession && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>SRA</div>\n                  <div>\n                    <a \n                      href={`https://www.ncbi.nlm.nih.gov/sra/${researchData.sra_accession}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"#3b82f6\", textDecoration: \"none\" }}\n                    >\n                      {researchData.sra_accession}\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {researchData.sra_study && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>SRA Study</div>\n                  <div>\n                    <a \n                      href={`https://www.ncbi.nlm.nih.gov/sra/${researchData.sra_study}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"#3b82f6\", textDecoration: \"none\" }}\n                    >\n                      {researchData.sra_study}\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {researchData.release_date && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Release Date</div>\n                  <div style={{ color: \"#6b7280\" }}>\n                    {new Date(researchData.release_date).toLocaleDateString()}\n                  </div>\n                </div>\n              )}\n\n              {researchData.organism && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>Organism</div>\n                  <div style={{ color: \"#6b7280\", fontStyle: \"italic\" }}>\n                    {researchData.organism}\n                  </div>\n                </div>\n              )}\n\n              {researchData.biosample_model && (\n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"200px 1fr\",\n                  gap: \"1rem\",\n                  padding: \"1rem\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"6px\",\n                  borderLeft: \"3px solid #e5e7eb\"\n                }}>\n                  <div style={{ fontWeight: \"600\", color: \"#374151\" }}>BioSample Model</div>\n                  <div style={{ color: \"#6b7280\" }}>{researchData.biosample_model}</div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Additional Properties Info */}\n      <div style={{\n        marginTop: \"2rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f0fdf4\",\n        borderRadius: \"6px\",\n        borderLeft: \"4px solid #22c55e\"\n      }}>\n        <h4 style={{\n          margin: \"0 0 0.5rem 0\",\n          color: \"#166534\",\n          fontSize: \"1rem\"\n        }}>\n          Additional Properties\n        </h4>\n        <p style={{\n          margin: 0,\n          color: \"#15803d\",\n          fontSize: \"0.9rem\"\n        }}>\n          Future: Enzyme classification, catalytic activity, optimal conditions, related sequences\n        </p>\n      </div>\n    </div>\n  );\n}","import { useEffect } from 'react';\n\nexport function useScrollHeader() {\n  useEffect(() => {\n    let lastScroll = 0;\n    let inactivityTimer = null;\n    const header = document.querySelector('.ui-section-header');\n\n    if (!header) return;\n\n    const hideHeader = () => {\n      const currentScroll = window.pageYOffset;\n      // Only hide if not at the very top\n      if (currentScroll > 100) {\n        header.classList.add('header-hidden');\n      }\n    };\n\n    const showHeader = () => {\n      header.classList.remove('header-hidden');\n    };\n\n    const resetInactivityTimer = () => {\n      // Clear existing timer\n      if (inactivityTimer) {\n        clearTimeout(inactivityTimer);\n      }\n\n      // Show header on activity\n      showHeader();\n\n      // Set new timer to hide after 2 seconds of inactivity\n      inactivityTimer = setTimeout(hideHeader, 2000);\n    };\n\n    const handleScroll = () => {\n      const currentScroll = window.pageYOffset;\n\n      // Don't hide header at the very top of the page\n      if (currentScroll <= 0) {\n        showHeader();\n        return;\n      }\n\n      // Scrolling down - hide header\n      if (currentScroll > lastScroll && currentScroll > 100) {\n        header.classList.add('header-hidden');\n      }\n      // Scrolling up - show header and reset inactivity timer\n      else if (currentScroll < lastScroll) {\n        resetInactivityTimer();\n      }\n\n      lastScroll = currentScroll;\n    };\n\n    const handleMouseMove = (e) => {\n      // Show header if mouse is near the top (within 100px)\n      if (e.clientY < 100) {\n        resetInactivityTimer();\n      }\n    };\n\n    // Initial inactivity timer\n    resetInactivityTimer();\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.addEventListener('mousemove', handleMouseMove, { passive: true });\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('mousemove', handleMouseMove);\n      if (inactivityTimer) {\n        clearTimeout(inactivityTimer);\n      }\n    };\n  }, []);\n}\n","// File: frontend/src/components/SequenceViewer.js\nimport React, { useState } from \"react\";\n\n// Taylor amino acid color scheme (background colors)\nconst aaColors = {\n  A: \"#ccff00\", V: \"#99ff00\", I: \"#66ff00\", L: \"#33ff00\",\n  M: \"#00ff00\", F: \"#00ff66\", Y: \"#00ffcc\", W: \"#00ccff\",\n  H: \"#0066ff\", R: \"#0000ff\", K: \"#6600ff\", N: \"#cc00ff\",\n  Q: \"#ff00cc\", E: \"#ff0066\", D: \"#ff0000\", S: \"#ff3300\",\n  T: \"#ff6600\", G: \"#ff9900\", P: \"#ffcc00\", C: \"#ffff00\"\n};\n\n// Standard nucleotide color scheme\nconst nucleotideColors = {\n  A: \"#00ff00\", // green\n  T: \"#ff0000\", // red\n  G: \"#ffff00\", // yellow\n  C: \"#0000ff\", // blue\n  U: \"#ff00ff\"  // magenta (for RNA)\n};\n\n// Wrap sequence into lines of up to `lineLength` characters\nconst wrapSequence = (seq, lineLength = 80) => {\n  if (!seq || typeof seq !== 'string') return [];\n  return seq.match(new RegExp(`.{1,${lineLength}}`, \"g\")) || [];\n};\n\nexport default function SequenceViewer({ nucleotideSequence, aminoAcidSequence }) {\n  const [sequenceType, setSequenceType] = useState(\"amino-acid\");\n  \n  // Select the appropriate sequence and color scheme\n  const currentSequence = sequenceType === \"nucleotide\" ? nucleotideSequence : aminoAcidSequence;\n  const colorScheme = sequenceType === \"nucleotide\" ? nucleotideColors : aaColors;\n  const lines = wrapSequence(currentSequence, 80);\n  \n  return (\n    <div>\n      {/* Always show toggle */}\n      <div style={{ marginBottom: \"1rem\" }}>\n        <label style={{ marginRight: \"1rem\" }}>\n          <input\n            type=\"radio\"\n            value=\"amino-acid\"\n            checked={sequenceType === \"amino-acid\"}\n            onChange={(e) => setSequenceType(e.target.value)}\n            style={{ marginRight: \"0.5rem\" }}\n          />\n          Amino Acid\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"nucleotide\"\n            checked={sequenceType === \"nucleotide\"}\n            onChange={(e) => setSequenceType(e.target.value)}\n            style={{ marginRight: \"0.5rem\" }}\n          />\n          Nucleotide\n        </label>\n      </div>\n      \n      <div style={{ fontFamily: \"monospace\", fontSize: \"1rem\", lineHeight: \"1.5\" }}>\n        {lines.length > 0 ? (\n          lines.map((line, idx) => (\n            <div key={idx} style={{ whiteSpace: \"pre\" }}>\n              {line.split(\"\").map((char, i) => (\n                <span\n                  key={i}\n                  style={{\n                    backgroundColor: colorScheme[char] || \"#FFFFFF\",\n                    color: \"#000000\",\n                    padding: \"0 2px\"\n                  }}\n                >\n                  {char}\n                </span>\n              ))}\n            </div>\n          ))\n        ) : (\n          <div style={{ color: \"#666\", padding: \"1rem 0\" }}>\n            {sequenceType === \"nucleotide\" \n              ? \"Nucleotide sequence not available\" \n              : \"No sequence available\"}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","// frontend/src/components/SummaryStatistics.jsx\nimport React from 'react';\n\nexport default function SummaryStatistics({ stats, loading }) {\n  if (loading) {\n    return (\n      <div style={{\n        padding: \"1rem\",\n        backgroundColor: \"#f9fafb\",\n        borderRadius: \"0.5rem\",\n        marginBottom: \"1rem\"\n      }}>\n        Loading statistics...\n      </div>\n    );\n  }\n\n  if (!stats) {\n    return null;\n  }\n\n  return (\n    <div style={{\n      padding: \"1rem\",\n      backgroundColor: \"#f9fafb\",\n      borderRadius: \"0.5rem\",\n      marginBottom: \"1rem\",\n      border: \"1px solid #e5e7eb\"\n    }}>\n      <h3 style={{\n        margin: \"0 0 0.75rem 0\",\n        fontSize: \"1rem\",\n        fontWeight: \"600\",\n        color: \"#111827\"\n      }}>\n        Summary Statistics\n      </h3>\n      \n      <div style={{\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(auto-fit, minmax(150px, 1fr))\",\n        gap: \"0.75rem\"\n      }}>\n        <StatItem \n          label=\"Total Mass\" \n          value={`${stats.totalMass} Da`}\n        />\n        <StatItem \n          label=\"Average pI\" \n          value={stats.avgPI}\n        />\n        <StatItem \n          label=\"Hydrophobic\" \n          value={`${stats.percentHydrophobic}%`}\n        />\n        <StatItem \n          label=\"Length\" \n          value={`${stats.sequenceLength} aa`}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction StatItem({ label, value }) {\n  return (\n    <div>\n      <div style={{\n        fontSize: \"0.75rem\",\n        color: \"#6b7280\",\n        marginBottom: \"0.25rem\"\n      }}>\n        {label}\n      </div>\n      <div style={{\n        fontSize: \"1.125rem\",\n        fontWeight: \"600\",\n        color: \"#111827\"\n      }}>\n        {value}\n      </div>\n    </div>\n  );\n}","// frontend/src/components/SequencePanel.js\nimport React from \"react\";\nimport SequenceViewer from \"./SequenceViewer\";\nimport SummaryStatistics from \"./SummaryStatistics\";\n\nexport default function SequencePanel({ sequence, accession, summaryStats, statsLoading }) {\n  if (!sequence) {\n    return (\n      <div style={{ \n        padding: \"2rem\", \n        textAlign: \"center\",\n        color: \"#666\"\n      }}>\n        No sequence data available\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <SummaryStatistics \n        stats={summaryStats}\n        loading={statsLoading}\n      />\n      \n      <div style={{ \n        marginBottom: \"1rem\",\n        color: \"#6b7280\",\n        fontSize: \"0.9rem\"\n      }}>\n        <strong>Length:</strong> {sequence.length} amino acids\n      </div>\n      \n      <SequenceViewer \n        aminoAcidSequence={sequence}\n        nucleotideSequence={null}\n      />\n    </div>\n  );\n}","import React, { useEffect, useRef, useState } from \"react\";\nimport config from \"../config\";\nimport \"../styles/molstar-custom.css\";\n\nconst ProteinViewer = ({\n  accession,\n  width = \"100%\",\n  height = \"100%\",\n  showControls = true,\n  initialStyle = \"cartoon\",\n  enableMeasurement = true,\n  enableSelection = true\n}) => {\n  const containerRef = useRef(null);\n  const pluginRef = useRef(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!accession || typeof window === 'undefined') return;\n\n    let plugin = null;\n    let isMounted = true;\n\n    const loadMolstarAndStructure = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        console.log('Loading Molstar for:', accession);\n\n        // Import Molstar CSS first\n        await import('molstar/lib/mol-plugin-ui/skin/light.scss');\n\n        // Import Molstar modules with React 18 renderer\n        const { createPluginUI } = await import('molstar/lib/mol-plugin-ui');\n        const { renderReact18 } = await import('molstar/lib/mol-plugin-ui/react18');\n        const { DefaultPluginUISpec } = await import('molstar/lib/mol-plugin-ui/spec');\n\n        if (!isMounted || !containerRef.current) {\n          console.log('Component unmounted, aborting');\n          return;\n        }\n\n        console.log('Molstar loaded, creating plugin...');\n\n        // Ensure container has explicit pixel dimensions\n        const rect = containerRef.current.getBoundingClientRect();\n        console.log('Container dimensions:', rect.width, rect.height);\n\n        if (rect.width === 0 || rect.height === 0) {\n          throw new Error('Container has no dimensions');\n        }\n\n        containerRef.current.style.width = `${rect.width}px`;\n        containerRef.current.style.height = `${rect.height}px`;\n\n        // Create plugin with React 18 renderer\n        const spec = DefaultPluginUISpec();\n        plugin = await createPluginUI({\n          target: containerRef.current,\n          spec: spec,\n          render: renderReact18,\n        });\n\n        pluginRef.current = plugin;\n        console.log('Plugin created:', plugin);\n\n        // Hide controls if needed\n        if (!showControls && plugin.layout) {\n          plugin.layout.setProps({\n            showControls: false,\n          });\n        }\n\n        // Get PDB info from backend\n        const pdbUrl = `${config.apiUrl}/pdb/accession/${accession}`;\n        console.log('Fetching PDB info from:', pdbUrl);\n\n        const response = await fetch(pdbUrl);\n\n        if (!response.ok) {\n          throw new Error('No structure available');\n        }\n\n        const pdbInfo = await response.json();\n        console.log('PDB info received:', pdbInfo);\n\n        if (!isMounted) {\n          console.log('Component unmounted, aborting');\n          return;\n        }\n\n        // Fetch PDB file\n        console.log('Fetching PDB file from:', pdbInfo.pdb_url);\n        const pdbResponse = await fetch(pdbInfo.pdb_url);\n        if (!pdbResponse.ok) {\n          throw new Error(`Failed to load PDB file: ${pdbResponse.status}`);\n        }\n\n        const pdbData = await pdbResponse.text();\n        console.log('PDB data loaded, length:', pdbData.length);\n\n        if (!isMounted) return;\n\n        // Load structure into Molstar\n        console.log('Loading structure into Molstar...');\n        const data = await plugin.builders.data.rawData({\n          data: pdbData,\n          label: `${accession} Structure`\n        });\n\n        const trajectory = await plugin.builders.structure.parseTrajectory(data, 'pdb');\n        const model = await plugin.builders.structure.createModel(trajectory);\n        const structure = await plugin.builders.structure.createStructure(model);\n\n        // Apply representation based on initialStyle\n        let reprParams = {};\n        switch(initialStyle) {\n          case 'cartoon':\n            reprParams = {\n              type: 'cartoon',\n              typeParams: {},\n              color: 'sequence-id',\n              colorParams: {}\n            };\n            break;\n          case 'surface':\n            reprParams = {\n              type: 'molecular-surface',\n              typeParams: {},\n              color: 'hydrophobicity',\n              colorParams: {}\n            };\n            break;\n          case 'ball-and-stick':\n            reprParams = {\n              type: 'ball-and-stick',\n              typeParams: {},\n              color: 'element-symbol',\n              colorParams: {}\n            };\n            break;\n          default:\n            reprParams = {\n              type: 'cartoon',\n              typeParams: {},\n              color: 'sequence-id',\n              colorParams: {}\n            };\n        }\n\n        const representation = await plugin.builders.structure.representation.addRepresentation(structure, reprParams);\n\n        // Auto-focus on structure\n        const { Structure } = await import('molstar/lib/mol-model/structure');\n        const loci = Structure.toStructureElementLoci(structure.cell.obj.data);\n        await plugin.managers.camera.focusLoci(loci);\n\n        // Enable measurement tools if requested\n        if (enableMeasurement && plugin.managers.structure.measurement) {\n          console.log('Enabling measurement tools');\n          // Measurement tools are available through the UI when controls are shown\n        }\n\n        // Enable selection tools if requested\n        if (enableSelection && plugin.managers.structure.selection) {\n          console.log('Enabling selection tools');\n          // Selection is enabled by default in Molstar\n        }\n\n        console.log('Structure loaded successfully');\n        setLoading(false);\n      } catch (err) {\n        console.error('Error loading structure:', err);\n        if (isMounted) {\n          setError(err.message);\n          setLoading(false);\n        }\n      }\n    };\n\n    loadMolstarAndStructure();\n\n    return () => {\n      isMounted = false;\n      if (pluginRef.current) {\n        console.log('Disposing plugin');\n        pluginRef.current.dispose();\n        pluginRef.current = null;\n      }\n    };\n  }, [accession, showControls, initialStyle, enableMeasurement, enableSelection]);\n\n  // Hide header when hovering over structure viewer\n  const handleMouseEnter = () => {\n    const header = document.querySelector('.ui-section-header');\n    if (header && window.pageYOffset > 100) {\n      header.classList.add('header-hidden');\n    }\n  };\n\n  return (\n    <div\n      onMouseEnter={handleMouseEnter}\n      style={{\n        width,\n        height,\n        position: 'relative',\n        borderRadius: '8px',\n        overflow: 'hidden'\n      }}\n    >\n      {/* Molstar plugin container */}\n      <div\n        ref={containerRef}\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }}\n      />\n\n      {/* Loading overlay */}\n      {loading && (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: '#f1f5f9',\n            color: '#64748b',\n            fontSize: '0.875rem',\n            zIndex: 10\n          }}\n        >\n          Loading structure...\n        </div>\n      )}\n\n      {/* Error overlay */}\n      {error && !loading && (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: '#f1f5f9',\n            color: '#94a3b8',\n            fontSize: '0.75rem',\n            textAlign: 'center',\n            padding: '0.5rem',\n            zIndex: 10\n          }}\n        >\n          Structure unavailable\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProteinViewer;\n"],"names":["StructurePanel","_ref","accession","React","style","backgroundColor","borderRadius","border","overflow","padding","borderBottom","fontSize","margin","color","fontWeight","width","height","ProteinViewer","showControls","enableMeasurement","enableSelection","marginTop","borderLeft","config","apiUrl","process","GATSBY_API_URL","MetadataPanel","metadata","originData","setOriginData","useState","researchData","setResearchData","researchExpanded","setResearchExpanded","useEffect","async","originRes","fetch","ok","data","json","researchRes","err","console","error","fetchMetadata","textAlign","metadataItems","label","value","source","synonyms","sequence","length","date_entered","Date","toLocaleString","hasCoordinates","latitude","longitude","marginBottom","display","gap","map","item","index","key","gridTemplateColumns","wordBreak","country","continent","biome","collection_date","toLocaleDateString","source_organism","fontStyle","elevation","location_name","title","loading","allowFullScreen","src","justifyContent","alignItems","cursor","onClick","onKeyDown","e","preventDefault","role","tabIndex","bioproject","href","target","rel","textDecoration","biosample","sra_accession","sra_study","release_date","organism","biosample_model","useScrollHeader","lastScroll","inactivityTimer","header","document","querySelector","hideHeader","window","pageYOffset","classList","add","showHeader","remove","resetInactivityTimer","clearTimeout","setTimeout","handleScroll","currentScroll","handleMouseMove","clientY","addEventListener","passive","removeEventListener","aaColors","A","V","I","L","M","F","Y","W","H","R","K","N","Q","E","D","S","T","G","P","C","nucleotideColors","U","wrapSequence","seq","lineLength","match","RegExp","SequenceViewer","nucleotideSequence","aminoAcidSequence","sequenceType","setSequenceType","colorScheme","lines","marginRight","type","checked","onChange","fontFamily","lineHeight","line","idx","whiteSpace","split","char","i","SummaryStatistics","stats","StatItem","totalMass","avgPI","percentHydrophobic","sequenceLength","_ref2","SequencePanel","summaryStats","statsLoading","initialStyle","containerRef","useRef","pluginRef","setLoading","setError","plugin","isMounted","log","createPluginUI","renderReact18","DefaultPluginUISpec","current","rect","getBoundingClientRect","Error","spec","render","layout","setProps","pdbUrl","response","pdbInfo","pdb_url","pdbResponse","status","pdbData","text","builders","rawData","trajectory","structure","parseTrajectory","model","createModel","createStructure","reprParams","typeParams","colorParams","representation","addRepresentation","Structure","loci","toStructureElementLoci","cell","obj","managers","camera","focusLoci","measurement","selection","message","loadMolstarAndStructure","dispose","onMouseEnter","handleMouseEnter","position","ref","top","left","zIndex"],"sourceRoot":""}